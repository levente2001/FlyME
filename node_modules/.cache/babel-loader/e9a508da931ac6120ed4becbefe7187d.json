{"ast":null,"code":"var _jsxFileName = \"/Users/kalolevente/Downloads/planetaxi/src/components/auth.js\";\nimport React from \"react\";\nimport { initialize, attachAuthListener } from \"../utils/firebase\";\nexport const authStates = {\n  INITIAL_VALUE: \"unknown\",\n  LOGGED_IN: \"logged_in\",\n  LOGGED_OUT: \"logged_out\"\n};\nexport function withAuth(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        user: undefined,\n        authState: authStates.INITIAL_VALUE\n      };\n      initialize();\n      this.unsubscribe = attachAuthListener(function (user) {\n        if (user) {\n          this.setState({\n            user: user,\n            authState: authStates.LOGGED_IN\n          });\n        } else {\n          this.setState({\n            user: user,\n            authState: authStates.LOGGED_OUT\n          });\n        }\n      }.bind(this));\n    }\n\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(WrappedComponent, Object.assign({\n        authState: this.state.authState,\n        user: this.state.user\n      }, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }));\n    }\n\n  };\n}","map":{"version":3,"sources":["/Users/kalolevente/Downloads/planetaxi/src/components/auth.js"],"names":["React","initialize","attachAuthListener","authStates","INITIAL_VALUE","LOGGED_IN","LOGGED_OUT","withAuth","WrappedComponent","Component","constructor","props","state","user","undefined","authState","unsubscribe","setState","bind","componentWillUnmount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,EAAqBC,kBAArB,QAA+C,mBAA/C;AAEA,OAAO,MAAMC,UAAU,GAAG;AACxBC,EAAAA,aAAa,EAAE,SADS;AAExBC,EAAAA,SAAS,EAAE,WAFa;AAGxBC,EAAAA,UAAU,EAAE;AAHY,CAAnB;AAMP,OAAO,SAASC,QAAT,CAAkBC,gBAAlB,EAAoC;AACzC,SAAO,cAAcR,KAAK,CAACS,SAApB,CAA8B;AACnCC,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;AACA,WAAKC,KAAL,GAAa;AACXC,QAAAA,IAAI,EAAEC,SADK;AAEXC,QAAAA,SAAS,EAAEZ,UAAU,CAACC;AAFX,OAAb;AAKAH,MAAAA,UAAU;AACV,WAAKe,WAAL,GAAmBd,kBAAkB,CACnC,UAASW,IAAT,EAAe;AACb,YAAIA,IAAJ,EAAU;AACR,eAAKI,QAAL,CAAc;AACZJ,YAAAA,IAAI,EAAEA,IADM;AAEZE,YAAAA,SAAS,EAAEZ,UAAU,CAACE;AAFV,WAAd;AAID,SALD,MAKO;AACL,eAAKY,QAAL,CAAc;AACZJ,YAAAA,IAAI,EAAEA,IADM;AAEZE,YAAAA,SAAS,EAAEZ,UAAU,CAACG;AAFV,WAAd;AAID;AACF,OAZD,CAYEY,IAZF,CAYO,IAZP,CADmC,CAArC;AAeD;;AAEDC,IAAAA,oBAAoB,GAAG;AACrB,WAAKH,WAAL;AACD;;AAEDI,IAAAA,MAAM,GAAG;AACP,0BACE,oBAAC,gBAAD;AACE,QAAA,SAAS,EAAE,KAAKR,KAAL,CAAWG,SADxB;AAEE,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC;AAFnB,SAGM,KAAKF,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAOD;;AAtCkC,GAArC;AAwCD","sourcesContent":["import React from \"react\";\n\nimport { initialize, attachAuthListener } from \"../utils/firebase\";\n\nexport const authStates = {\n  INITIAL_VALUE: \"unknown\",\n  LOGGED_IN: \"logged_in\",\n  LOGGED_OUT: \"logged_out\",\n};\n\nexport function withAuth(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        user: undefined,\n        authState: authStates.INITIAL_VALUE,\n      };\n\n      initialize();\n      this.unsubscribe = attachAuthListener(\n        function(user) {\n          if (user) {\n            this.setState({\n              user: user,\n              authState: authStates.LOGGED_IN,\n            });\n          } else {\n            this.setState({\n              user: user,\n              authState: authStates.LOGGED_OUT,\n            });\n          }\n        }.bind(this)\n      );\n    }\n\n    componentWillUnmount() {\n      this.unsubscribe();\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          authState={this.state.authState}\n          user={this.state.user}\n          {...this.props}\n        />\n      );\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}